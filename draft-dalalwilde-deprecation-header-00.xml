<?xml version="1.0" encoding="utf-8"?>
  <?xml-stylesheet type="text/xsl" href="rfc2629.xslt" ?>
  <!-- generated by https://github.com/cabo/kramdown-rfc2629 version 1.2.9 -->

<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
]>

<?rfc toc="yes"?>
<?rfc tocindent="yes"?>
<?rfc sortrefs="yes"?>
<?rfc symrefs="yes"?>
<?rfc strict="yes"?>
<?rfc compact="yes"?>
<?rfc comments="yes"?>
<?rfc inline="yes"?>

<rfc docName="draft-dalalwilde-deprecation-header-00" category="std">

  <front>
    <title>The Deprecation HTTP Header</title>

    <author initials="S." surname="Dalal" fullname="Sanjay Dalal">
      <organization></organization>
      <address>
        <email>sanjay.dalal@cal.berkeley.edu</email>
      </address>
    </author>
    <author initials="E." surname="Wilde" fullname="Erik Wilde">
      <organization></organization>
      <address>
        <email>erik.wilde@dret.net</email>
        <uri>http://dret.net/netdret</uri>
      </address>
    </author>

    <date year="2019" month="January" day="28"/>

    
    
    

    <abstract>


<t>The HTTP Deprecation header field can be used to signal to consumers of a URI-identified resource that the use of the resource has been deprecated. Additionally, the deprecation link relation can be used to link to a resource that provides additional context for the deprecation, and possibly ways in which clients can find a replacement for the deprecated resource.</t>



    </abstract>


  </front>

  <middle>


<section anchor="introduction" title="Introduction">

<t><xref target="Deprecation"/> of a URI-identified resource <xref target="resource"></xref> is a technique to communicate information about the life cycle of a resource: to encourage applications to migrate away from the resource, to discourage applications from forming new dependencies on the resource, and to inform developers of the risks of continuing dependence upon the resource.</t>

<section anchor="notational-conventions" title="Notational Conventions">

<t>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”,
“SHOULD NOT”, “RECOMMENDED”, “NOT RECOMMENDED”, “MAY”, and “OPTIONAL” in this
document are to be interpreted as described in BCP 14 <xref target="RFC2119"/> <xref target="RFC8174"/>
when, and only when, they appear in all capitals, as shown here.</t>

</section>
<section anchor="terminology" title="Terminology">

<section anchor="resource" title="Resource">

<t>The key abstraction of information in <xref target="REST"/> is a resource. Any information that can be named can be a resource: a document or image, a temporal service (e.g. “today’s weather in San Francisco”), a collection of other resources, a non-virtual object (e.g. a person), and so on. A resource is a conceptual mapping to a set of entities, not the entity that corresponds to the mapping at any particular point in time. More precisely, a resource R is a temporally varying membership function <spanx style="verb">MR(t)</spanx>, that for time <spanx style="verb">t</spanx> maps to a set of entities, or values, that are equivalent. The values in the set may be resource representations and/or resource identifiers.</t>

</section>
</section>
</section>
<section anchor="the-deprecation-http-response-header" title="The Deprecation HTTP Response Header">

<section anchor="syntax" title="Syntax">

<figure><artwork><![CDATA[
Deprecation: since=<date or version>; sunset=<date>;
]]></artwork></figure>

<t>To Erik, Mark: We could use Sunset header if it is going to be approved. Else we would use a key named <spanx style="verb">sunset</spanx>.</t>

<t><spanx style="strong">Since</spanx></t>

<t>The value of <spanx style="verb">since</spanx> could be the resource (or API) version since when this resource was deprecated. For APIs, that use date-based versioning scheme, the value could be accordingly.</t>

<t>Following example indicates that the resource in context has been deprecated since version <spanx style="verb">v2</spanx>.</t>

<figure><artwork><![CDATA[
Deprecation: since=v2
]]></artwork></figure>

<t>Following example shows that the resource in context is deprecated since 2018-11-08 (November 8, 2018).</t>

<figure><artwork><![CDATA[
Deprecation: since=2018-11-08 
]]></artwork></figure>

<t><spanx style="strong">Sunset (optional)</spanx></t>

<t>The value for <spanx style="verb">sunset</spanx> would be an HTTP-date timestamp, as defined in Section 7.1.1.1 of <xref target="RFC7231"/>. This information provided as a hint allows a service to communicate the fact that a resource is expected to become unresponsive at a specific point in time.</t>

</section>
<section anchor="with-link-header" title="With Link Header">

<t>Link header as defined in <xref target="RFC8288"/> could be used in addition to the Deprecation header to inform the applications about alternates to the deprecated if applicable. Following relationship types as defined in <xref target="RFC5988"/> might be appropriate to use in such cases.</t>

<t><list style="symbols">
  <t>successor-version</t>
  <t>latest-version</t>
  <t>alternate</t>
</list></t>

<t>Following example provides link to the successor version of the resource that is deprecated.</t>

<figure><artwork><![CDATA[
Deprecation: v2
Link: http://api.example.com/v2/customers; rel=successor-version
]]></artwork></figure>

<t>Following example provides link to an alternate resource to use instead of the called resource that is deprecated.</t>

<figure><artwork><![CDATA[
Deprecation: 2018-11-11
Link: http://api.example.com/v2/clients; rel=alternate
]]></artwork></figure>

</section>
</section>
<section anchor="the-deprecation-link-relation-type" title="The Deprecation Link Relation Type">

</section>
<section anchor="iana-considerations" title="IANA Considerations">

<section anchor="the-deprecation-response-header-field" title="The Deprecation Response Header Field">

<t>The <spanx style="verb">Deprecation</spanx> response header should be added to the permanent registry of message header fields (see <xref target="RFC3864"/>), taking into account the guidelines given by HTTP/1.1 <xref target="RFC7231"/>.</t>

<figure><artwork><![CDATA[
    Header Field Name: Deprecation
    
    Applicable Protocol: Hypertext Transfer Protocol (HTTP)

    Status: Informational
    
    Author/Change controller: IETF
    
    Specification document(s): RFC XXXX
]]></artwork></figure>

</section>
<section anchor="the-deprecation-link-relation-type-1" title="The Deprecation Link Relation Type">

<t>The <spanx style="verb">deprecation</spanx> link relation type should be added to the permanent registry of link relation types according to Section 4.2 of <xref target="RFC8288"/>:</t>

<figure><artwork><![CDATA[
    Relation Name: deprecation
    
    Description: ...
    
    Reference: RFC XXXX
]]></artwork></figure>

</section>
</section>
<section anchor="security-considerations" title="Security Considerations">

<t>TODO Security</t>

</section>
<section anchor="example" title="Example">

</section>
<section anchor="implementation-status" title="Implementation Status">

<t>Note to RFC Editor: Please remove this section before publication.</t>

<t>This section records the status of known implementations of the
protocol defined by this specification at the time of posting of this
Internet-Draft, and is based on a proposal described in <xref target="RFC6982"/>.  The description of implementations in this section is
intended to assist the IETF in its decision processes in progressing
drafts to RFCs.  Please note that the listing of any individual
implementation here does not imply endorsement by the IETF.
Furthermore, no effort has been spent to verify the information
presented here that was supplied by IETF contributors.  This is not
intended as, and must not be construed to be, a catalog of available
implementations or their features.  Readers are advised to note that
other implementations may exist.</t>

<t>According to RFC 6982, “this will allow reviewers and working groups
to assign due consideration to documents that have the benefit of
running code, which may serve as evidence of valuable experimentation
and feedback that have made the implemented protocols more mature.
It is up to the individual working groups to use this information as
they see fit”.</t>

<figure><artwork><![CDATA[
    Organization: ...
    
    Name: ...
    
    Licensing: ...
    
    Description: ...
]]></artwork></figure>

</section>


  </middle>

  <back>

    <references title='Normative References'>





<reference  anchor="RFC2119" target='https://www.rfc-editor.org/info/rfc2119'>
<front>
<title>Key words for use in RFCs to Indicate Requirement Levels</title>
<author initials='S.' surname='Bradner' fullname='S. Bradner'><organization /></author>
<date year='1997' month='March' />
<abstract><t>In many standards track documents several words are used to signify the requirements in the specification.  These words are often capitalized. This document defines these words as they should be interpreted in IETF documents.  This document specifies an Internet Best Current Practices for the Internet Community, and requests discussion and suggestions for improvements.</t></abstract>
</front>
<seriesInfo name='BCP' value='14'/>
<seriesInfo name='RFC' value='2119'/>
<seriesInfo name='DOI' value='10.17487/RFC2119'/>
</reference>



<reference  anchor="RFC8174" target='https://www.rfc-editor.org/info/rfc8174'>
<front>
<title>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</title>
<author initials='B.' surname='Leiba' fullname='B. Leiba'><organization /></author>
<date year='2017' month='May' />
<abstract><t>RFC 2119 specifies common key words that may be used in protocol  specifications.  This document aims to reduce the ambiguity by clarifying that only UPPERCASE usage of the key words have the  defined special meanings.</t></abstract>
</front>
<seriesInfo name='BCP' value='14'/>
<seriesInfo name='RFC' value='8174'/>
<seriesInfo name='DOI' value='10.17487/RFC8174'/>
</reference>



<reference  anchor="RFC7231" target='https://www.rfc-editor.org/info/rfc7231'>
<front>
<title>Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content</title>
<author initials='R.' surname='Fielding' fullname='R. Fielding' role='editor'><organization /></author>
<author initials='J.' surname='Reschke' fullname='J. Reschke' role='editor'><organization /></author>
<date year='2014' month='June' />
<abstract><t>The Hypertext Transfer Protocol (HTTP) is a stateless \%application- level protocol for distributed, collaborative, hypertext information systems.  This document defines the semantics of HTTP/1.1 messages, as expressed by request methods, request header fields, response status codes, and response header fields, along with the payload of messages (metadata and body content) and mechanisms for content negotiation.</t></abstract>
</front>
<seriesInfo name='RFC' value='7231'/>
<seriesInfo name='DOI' value='10.17487/RFC7231'/>
</reference>



<reference  anchor="RFC8288" target='https://www.rfc-editor.org/info/rfc8288'>
<front>
<title>Web Linking</title>
<author initials='M.' surname='Nottingham' fullname='M. Nottingham'><organization /></author>
<date year='2017' month='October' />
<abstract><t>This specification defines a model for the relationships between resources on the Web (&quot;links&quot;) and the type of those relationships (&quot;link relation types&quot;).</t><t>It also defines the serialisation of such links in HTTP headers with the Link header field.</t></abstract>
</front>
<seriesInfo name='RFC' value='8288'/>
<seriesInfo name='DOI' value='10.17487/RFC8288'/>
</reference>



<reference  anchor="RFC5988" target='https://www.rfc-editor.org/info/rfc5988'>
<front>
<title>Web Linking</title>
<author initials='M.' surname='Nottingham' fullname='M. Nottingham'><organization /></author>
<date year='2010' month='October' />
<abstract><t>This document specifies relation types for Web links, and defines a registry for them.  It also defines the use of such links in HTTP headers with the Link header field.  [STANDARDS-TRACK]</t></abstract>
</front>
<seriesInfo name='RFC' value='5988'/>
<seriesInfo name='DOI' value='10.17487/RFC5988'/>
</reference>



<reference  anchor="RFC3864" target='https://www.rfc-editor.org/info/rfc3864'>
<front>
<title>Registration Procedures for Message Header Fields</title>
<author initials='G.' surname='Klyne' fullname='G. Klyne'><organization /></author>
<author initials='M.' surname='Nottingham' fullname='M. Nottingham'><organization /></author>
<author initials='J.' surname='Mogul' fullname='J. Mogul'><organization /></author>
<date year='2004' month='September' />
<abstract><t>This specification defines registration procedures for the message header fields used by Internet mail, HTTP, Netnews and other applications.  This document specifies an Internet Best Current Practices for the Internet Community, and requests discussion and suggestions for improvements.</t></abstract>
</front>
<seriesInfo name='BCP' value='90'/>
<seriesInfo name='RFC' value='3864'/>
<seriesInfo name='DOI' value='10.17487/RFC3864'/>
</reference>




    </references>

    <references title='Informative References'>

<reference anchor="REST" target="http://www.ics.uci.edu/~fielding/pubs/dissertation/fielding_dissertation.pdf">
  <front>
    <title>Architectural Styles and the Design of Network-based Software Architectures</title>
    <author initials="R." surname="Fielding" fullname="Roy Thomas Fielding">
      <organization>University of California, Irvine</organization>
    </author>
    <date year="2000"/>
  </front>
  <seriesInfo name="Ph.D." value="Dissertation, University of California, Irvine"/>
  <format type="PDF" target="http://www.ics.uci.edu/~fielding/pubs/dissertation/fielding_dissertation.pdf"/>
</reference>
<reference anchor="Deprecation" target="http://openjdk.java.net/jeps/277">
  <front>
    <title>JEP 277 - Enhanced Deprecation</title>
    <author initials="S." surname="Marks" fullname="Stuart Marks">
      <organization></organization>
    </author>
    <date year="2017"/>
  </front>
</reference>




<reference  anchor="RFC6982" target='https://www.rfc-editor.org/info/rfc6982'>
<front>
<title>Improving Awareness of Running Code: The Implementation Status Section</title>
<author initials='Y.' surname='Sheffer' fullname='Y. Sheffer'><organization /></author>
<author initials='A.' surname='Farrel' fullname='A. Farrel'><organization /></author>
<date year='2013' month='July' />
<abstract><t>This document describes a simple process that allows authors of Internet-Drafts to record the status of known implementations by including an Implementation Status section.  This will allow reviewers and working groups to assign due consideration to documents that have the benefit of running code, which may serve as evidence of valuable experimentation and feedback that have made the implemented protocols more mature.</t><t>The process in this document is offered as an experiment.  Authors of Internet-Drafts are encouraged to consider using the process for their documents, and working groups are invited to think about applying the process to all of their protocol specifications.  The authors of this document intend to collate experiences with this experiment and to report them to the community.</t></abstract>
</front>
<seriesInfo name='RFC' value='6982'/>
<seriesInfo name='DOI' value='10.17487/RFC6982'/>
</reference>




    </references>


<section numbered="false" anchor="acknowledgments" title="Acknowledgments">

<t>The authors take all responsibility for errors and omissions.</t>

</section>


  </back>

<!-- ##markdown-source:
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

-->

</rfc>

